{# Hero Section Component - Like a React Functional Component #}
{% macro render(section, allSections) %}
<section class="hero-section cs-style {{ section.styleOptions }} {{ section.backgroundImageColor }}" style="background-image: url('{{ section.backgroundImage | url }}')">
    <div class="cs-container">
        <div class="hero-content">
            <h1 class="{{ section.titleColor }}">{{ section.title }}</h1>
            <h1 class="{{ section.subtitleColor }}">{{ section.subtitle }}</h1>
            {% if section.button | length > 0 %}
                <div class="button-group">
                {% for button in section.button %}
                    <a href="{{ button.buttonLink }}" class="cs-button {{ button.buttonStyle }} {{ button.buttonColor }}">{{ button.buttonText }}</a>
                {% endfor %}
                </div>
            {% endif %}
        </div>
    </div>
    
    {# Scroll-to Navigation for Style_2 #}
    {% if section.styleOptions == "Style_2" and allSections %}
    <nav class="hero-scroll-nav">
        <div class="scroll-nav-container">
            {% for navSection in allSections %}
                {% if navSection.type != "hero_section" %}
                    {% set sectionId = "section-" ~ loop.index %}
                    
                    {# Get title from different section types #}
                    {% if navSection.header %}
                        {% set sectionTitle = navSection.header %}
                    {% elif navSection.heading %}
                        {% set sectionTitle = navSection.heading %}
                    {% elif navSection.title %}
                        {% set sectionTitle = navSection.title %}
                    {% elif navSection.type == "text_section" and navSection.contentBlocks %}
                        {# Find first header in text section content blocks #}
                        {% set sectionTitle = "" %}
                        {% for block in navSection.contentBlocks %}
                            {% if block.type == "header_block" and not sectionTitle %}
                                {% set sectionTitle = block.text %}
                            {% endif %}
                        {% endfor %}
                        {% if not sectionTitle %}
                            {% set sectionTitle = "Section " ~ loop.index %}
                        {% endif %}
                    {% elif navSection.type == "image_text_section" and navSection.contentBlocks %}
                        {# Find first header in image-text section content blocks #}
                        {% set sectionTitle = "" %}
                        {% for block in navSection.contentBlocks %}
                            {% if block.type == "header_block" and not sectionTitle %}
                                {% set sectionTitle = block.text %}
                            {% endif %}
                        {% endfor %}
                        {% if not sectionTitle %}
                            {% set sectionTitle = "Section " ~ loop.index %}
                        {% endif %}
                    {% else %}
                        {% set sectionTitle = "Section " ~ loop.index %}
                    {% endif %}
                    
                    <a href="#{{ sectionId }}" class="scroll-nav-item">{{ sectionTitle }}</a>
                {% endif %}
            {% endfor %}
        </div>
    </nav>
    {% endif %}
</section>
{% endmacro %}
