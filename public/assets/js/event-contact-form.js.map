{
  "version": 3,
  "sources": ["../../../src/assets/js/event-contact-form.js"],
  "sourcesContent": ["// Event Contact Form Handler\ndocument.addEventListener('DOMContentLoaded', function() {\n    const form = document.getElementById('eventContactForm');\n    \n    if (!form) return;\n\n    // Phone number formatting\n    const phoneInput = document.getElementById('phone');\n    if (phoneInput) {\n        phoneInput.addEventListener('input', function(e) {\n            let value = e.target.value.replace(/\\D/g, '');\n            if (value.length > 0) {\n                if (value.length <= 3) {\n                    value = `(${value}`;\n                } else if (value.length <= 6) {\n                    value = `(${value.slice(0, 3)}) ${value.slice(3)}`;\n                } else {\n                    value = `(${value.slice(0, 3)}) ${value.slice(3, 6)}-${value.slice(6, 10)}`;\n                }\n            }\n            e.target.value = value;\n        });\n    }\n\n    // Set minimum date to today\n    const eventDateInput = document.getElementById('eventDate');\n    if (eventDateInput) {\n        const today = new Date().toISOString().split('T')[0];\n        eventDateInput.setAttribute('min', today);\n    }\n\n    // Form validation\n    function validateField(field) {\n        const errorElement = document.getElementById(`${field.id}Error`);\n        let isValid = true;\n        let errorMessage = '';\n\n        // Clear previous error\n        if (errorElement) {\n            errorElement.textContent = '';\n        }\n        field.classList.remove('invalid');\n\n        // Required field check\n        if (field.hasAttribute('required') && !field.value.trim()) {\n            isValid = false;\n            errorMessage = 'This field is required';\n        }\n\n        // Email validation\n        if (field.type === 'email' && field.value.trim()) {\n            const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n            if (!emailRegex.test(field.value)) {\n                isValid = false;\n                errorMessage = 'Please enter a valid email address';\n            }\n        }\n\n        // Phone validation\n        if (field.id === 'phone' && field.value.trim()) {\n            const phoneDigits = field.value.replace(/\\D/g, '');\n            if (phoneDigits.length !== 10) {\n                isValid = false;\n                errorMessage = 'Please enter a valid 10-digit phone number';\n            }\n        }\n\n        // Date validation\n        if (field.type === 'date' && field.value) {\n            const selectedDate = new Date(field.value);\n            const today = new Date();\n            today.setHours(0, 0, 0, 0);\n            \n            if (selectedDate < today) {\n                isValid = false;\n                errorMessage = 'Event date must be in the future';\n            }\n        }\n\n        if (!isValid && errorElement) {\n            errorElement.textContent = errorMessage;\n            field.classList.add('invalid');\n        }\n\n        return isValid;\n    }\n\n    // Add blur validation to all form fields\n    const formFields = form.querySelectorAll('input, select, textarea');\n    formFields.forEach(field => {\n        field.addEventListener('blur', function() {\n            validateField(this);\n        });\n\n        // Clear error on input\n        field.addEventListener('input', function() {\n            if (this.classList.contains('invalid')) {\n                validateField(this);\n            }\n        });\n    });\n\n    // Form submission\n    form.addEventListener('submit', async function(e) {\n        e.preventDefault();\n\n        // Validate all fields\n        let isFormValid = true;\n        formFields.forEach(field => {\n            if (!validateField(field)) {\n                isFormValid = false;\n            }\n        });\n\n        if (!isFormValid) {\n            // Scroll to first error\n            const firstError = form.querySelector('.invalid');\n            if (firstError) {\n                firstError.scrollIntoView({ behavior: 'smooth', block: 'center' });\n                firstError.focus();\n            }\n            return;\n        }\n\n        // Show loading state\n        const submitBtn = form.querySelector('.submit-btn');\n        const btnText = submitBtn.querySelector('.btn-text');\n        const btnLoader = submitBtn.querySelector('.btn-loader');\n        const successMessage = document.getElementById('successMessage');\n        const errorMessage = document.getElementById('errorMessage');\n\n        submitBtn.disabled = true;\n        btnText.style.display = 'none';\n        btnLoader.style.display = 'inline-flex';\n        successMessage.style.display = 'none';\n        errorMessage.style.display = 'none';\n\n        // Prepare form data\n        const formData = {\n            name: document.getElementById('name').value.trim(),\n            phone: document.getElementById('phone').value.trim(),\n            email: document.getElementById('email').value.trim(),\n            eventType: document.getElementById('eventType').value,\n            eventDate: document.getElementById('eventDate').value,\n            eventDescription: document.getElementById('eventDescription').value.trim(),\n            submittedAt: new Date().toISOString()\n        };\n\n        try {\n            // Get API endpoint from data attribute or use default\n            const apiEndpoint = form.dataset.apiEndpoint || '/api/event-contact';\n\n            const response = await fetch(apiEndpoint, {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json',\n                },\n                body: JSON.stringify(formData)\n            });\n\n            if (!response.ok) {\n                throw new Error(`HTTP error! status: ${response.status}`);\n            }\n\n            const result = await response.json();\n\n            // Show success message\n            successMessage.style.display = 'flex';\n            form.reset();\n\n            // Scroll to success message\n            successMessage.scrollIntoView({ behavior: 'smooth', block: 'center' });\n\n            // Hide success message after 10 seconds\n            setTimeout(() => {\n                successMessage.style.display = 'none';\n            }, 10000);\n\n        } catch (error) {\n            console.error('Form submission error:', error);\n            \n            // Show error message\n            const errorMessageText = document.getElementById('errorMessageText');\n            errorMessageText.textContent = 'Sorry, there was an error submitting your request. Please try again or contact us directly.';\n            errorMessage.style.display = 'flex';\n\n            // Scroll to error message\n            errorMessage.scrollIntoView({ behavior: 'smooth', block: 'center' });\n\n        } finally {\n            // Reset button state\n            submitBtn.disabled = false;\n            btnText.style.display = 'inline';\n            btnLoader.style.display = 'none';\n        }\n    });\n});\n"],
  "mappings": "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",
  "names": []
}
