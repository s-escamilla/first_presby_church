(()=>{document.addEventListener("DOMContentLoaded",function(){function c(){let t=document.getElementById("communicationModal");t&&(t.classList.remove("active"),document.body.style.overflow="")}document.body.addEventListener("click",function(t){var i,s,l;let o=t.target.closest(".communication-item");if(!o)return;t.preventDefault();let e=document.getElementById("communicationModal");if(!e)return;let n=o.querySelector(".communication-modal-data");if(!n)return;let r=((i=n.querySelector(".communication-modal-subject"))==null?void 0:i.textContent)||"",u=((s=n.querySelector(".communication-modal-date"))==null?void 0:s.textContent)||"",y=((l=n.querySelector(".communication-modal-body"))==null?void 0:l.innerHTML)||"",m=e.querySelector(".modal-comm-subject"),d=e.querySelector(".modal-comm-date"),a=e.querySelector(".modal-comm-body");m&&(m.textContent=r),d&&(d.textContent=u),a&&(a.innerHTML=y),e.classList.add("active"),document.body.style.overflow="hidden"}),document.body.addEventListener("click",function(t){(t.target.matches("#showMoreComm")||t.target.matches(".communication-show-more"))&&(document.querySelectorAll(".communication-item.hidden-comm").forEach(e=>{e.classList.remove("hidden-comm")}),t.target.classList.add("hidden"),t.target.style.display="none")}),document.body.addEventListener("click",function(t){(t.target.matches(".communication-modal-close")||t.target.matches(".communication-modal-overlay"))&&c()}),document.addEventListener("keydown",function(t){let o=document.getElementById("communicationModal");t.key==="Escape"&&o&&o.classList.contains("active")&&c()})});})();
