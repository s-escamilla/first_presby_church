(()=>{(()=>{let n={BREAKPOINTS:{MOBILE:1023.5},SELECTORS:{body:"body",navigation:"#cs-navigation",hamburger:"#cs-navigation .cs-toggle",menuWrapper:"#cs-ul-wrapper",dropdownToggle:".cs-dropdown-toggle",dropdown:".cs-dropdown",dropdownMenu:".cs-drop-ul",navButton:".cs-nav-button"},CLASSES:{active:"cs-active",menuOpen:"cs-open"}},t={body:document.querySelector(n.SELECTORS.body),navigation:document.querySelector(n.SELECTORS.navigation),hamburger:document.querySelector(n.SELECTORS.hamburger),menuWrapper:document.querySelector(n.SELECTORS.menuWrapper),navButton:document.querySelector(n.SELECTORS.navButton)},a=()=>window.matchMedia(`(max-width: ${n.BREAKPOINTS.MOBILE}px)`).matches,u=(e,o,r="true",d="false")=>{if(!e)return;let E=e.getAttribute(o);e.setAttribute(o,E===r?d:r)},l=e=>e&&(e.inert=!e.inert),s={close(e,o=!1){if(!e||!e.classList.contains(n.CLASSES.active))return!1;e.classList.remove(n.CLASSES.active);let r=e.querySelector(n.SELECTORS.dropdownToggle),d=e.querySelector(n.SELECTORS.dropdownMenu);return r&&(r.setAttribute("aria-expanded","false"),o&&r.focus()),d&&(d.inert=!0),!0},toggle(e){e.classList.toggle(n.CLASSES.active);let o=e.querySelector(n.SELECTORS.dropdownToggle),r=e.querySelector(n.SELECTORS.dropdownMenu);o&&u(o,"aria-expanded"),r&&l(r)},closeAll(){if(!t.navigation)return!1;let e=!1;return t.navigation.querySelectorAll(`${n.SELECTORS.dropdown}.${n.CLASSES.active}`).forEach(o=>{this.close(o,!0),e=!0}),e}},c={toggle(){if(!t.hamburger||!t.navigation)return;let e=t.navigation.classList.contains(n.CLASSES.active);[t.hamburger,t.navigation].forEach(o=>o.classList.toggle(n.CLASSES.active)),t.body.classList.toggle(n.CLASSES.menuOpen),u(t.hamburger,"aria-expanded"),t.menuWrapper&&a()&&l(t.menuWrapper),e&&s.closeAll()}},g={handleEscape(){!t.navigation||s.closeAll()||t.hamburger&&t.hamburger.classList.contains(n.CLASSES.active)&&(c.toggle(),t.hamburger.focus())}},i={handleDropdownClick(e){if(!a())return;let o=e.target.closest(n.SELECTORS.dropdownToggle);if(!o)return;e.preventDefault();let r=o.closest(n.SELECTORS.dropdown);r&&s.toggle(r)},handleDropdownKeydown(e){if(e.key!=="Enter"&&e.key!==" ")return;let o=e.target.closest(n.SELECTORS.dropdownToggle);if(!o)return;e.preventDefault();let r=o.closest(n.SELECTORS.dropdown);r&&s.toggle(r)},handleFocusOut(e){setTimeout(()=>{if(!e.relatedTarget)return;let o=e.target.closest(n.SELECTORS.dropdown);o!=null&&o.classList.contains(n.CLASSES.active)&&!o.contains(e.relatedTarget)&&s.close(o)},10)},handleMobileFocus(e){!a()||!t.navigation.classList.contains(n.CLASSES.active)||t.menuWrapper.contains(e.target)||t.hamburger.contains(e.target)||c.toggle()},handleDropdownHover(e){if(a())return;let o=e.target.closest(n.SELECTORS.dropdown);if(!o)return;let r=o.querySelector(n.SELECTORS.dropdownMenu);r&&(e.type==="mouseenter"?r.inert=!1:e.type==="mouseleave"&&setTimeout(()=>{o.matches(":hover")||(r.inert=!0)},1))}},S={inertState(){t.menuWrapper&&(t.menuWrapper.inert=a(),t.navigation&&t.navigation.querySelectorAll(n.SELECTORS.dropdownMenu).forEach(o=>{o.inert=!0}))},eventListeners(){!t.hamburger||!t.navigation||(t.hamburger.addEventListener("click",c.toggle),t.navigation.addEventListener("click",e=>{e.target===t.navigation&&t.navigation.classList.contains(n.CLASSES.active)&&c.toggle()}),t.navigation.addEventListener("click",i.handleDropdownClick),t.navigation.addEventListener("keydown",i.handleDropdownKeydown),t.navigation.addEventListener("focusout",i.handleFocusOut),t.navigation.addEventListener("mouseenter",i.handleDropdownHover,!0),t.navigation.addEventListener("mouseleave",i.handleDropdownHover,!0),document.addEventListener("keydown",e=>e.key==="Escape"&&g.handleEscape()),document.addEventListener("focusin",i.handleMobileFocus),window.addEventListener("resize",()=>{this.inertState(),!a()&&t.navigation.classList.contains(n.CLASSES.active)&&c.toggle()}))}};S.inertState(),S.eventListeners()})();})();
